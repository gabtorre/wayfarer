{% extends 'base.html' %}
{% load humanize %}
{% block content %}
    <!-- Jquery -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>

    <!-- login error -->
{% if login_errors %}

<script type="text/javascript">
    $(document).ready(function(){
      $('#loginModal').modal('show');
    });
</script>

{% endif %}

    <!-- signup error -->
{% if signup_errors %}

<script type="text/javascript">
    $(document).ready(function(){
      $('#signupModal').modal('show');
    });
</script>

{% endif %}

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>

{% if is_true %}
<script type="text/javascript">
  $(document).ready(function(){
          $('#loginModal').modal('show');
      });
  </script>
{% endif %}

<!-- Carousel -->
<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
      <!-- Info Section -->
      <div class="container slider__card-container">
        <div class="row text-white">
          <div class="slider__heading-container">
            <h1 class="slider__heading-text">Discover the world</h1>
          </div>
          <div class="col-sm slider__card">
            <h3 class="slider__card-title">Explore</h3>
            <p class="slider__card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse non tempus nisi. Etiam vel orci ipsum.</p>
          </div>
          <div class="col-sm slider__card">
            <h3 class="slider__card-title">Share</h3>
            <p class="slider__card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse non tempus nisi. Etiam vel orci ipsum.</p>
          </div>
          <div class="col-sm slider__card">
            <h3 class="slider__card-title">Discover</h3>
            <p class="slider__card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse non tempus nisi. Etiam vel orci ipsum.</p>
          </div>
        </div>
      </div>
      <div class="carousel-item active">
        <img class="d-block w-100 carousel-image" src="https://images.pexels.com/photos/2104152/pexels-photo-2104152.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260" alt="First slide">
      </div>
      <div class="carousel-item">
        <img class="d-block w-100 carousel-image" src="https://images.pexels.com/photos/3186163/pexels-photo-3186163.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260" alt="Second slide">
      </div>
      <div class="carousel-item">
        <img class="d-block w-100 carousel-image" src="https://images.pexels.com/photos/2474687/pexels-photo-2474687.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260" alt="Third slide">
      </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
</div>

<!-- Recent Posts Section -->
<div class="container mt-5">
  <h3 class="black">Recent Posts</h3>
  <div class="row mt-4">
  {% for post in recent_posts %}
  <div class="col-md-4">
    <div class="card recent-posts">
      <div class="recent-posts__container">
        <div class="recent-posts__container__city"><p class="post-profile-text">{{ post.city }}</p></div>
        <img class="recent-posts__img" src="{{ post.image.url }}" />
      </div>
      <div class="recent-posts__profile">
        <img class="rounded-circle recent-posts__profile-img" src="{{ post.user.profile.image.url }}" />
        <div class="recent-posts__profile-text">
          <a class="recent-posts__profile-text__name" href="{% url 'profile' post.user.profile.slug %}">{{ post.user.profile.name }}</a>
          <p>{{post.created_date|naturaltime}}</p>
        </div>
      </div>
      <div class="card-body recent-posts__article-body">
        <h3 class="recent-posts__title"><a href="{% url 'post' post.id %}">{{post.title}}</a></h3>
        <article class="mt-2 recent-posts__article-body-text">{{post.content|truncatechars:150|linebreaks}}</article>
        <!-- <a class="black post-profile-text-name red-hover" href="{% url 'post' post.id %}">Read More</a> -->
      </div>
    </div>
  </div>
  {% endfor %}
  </div>
</div>

{% endblock %}